<p-dataTable [value]="lista"
             [rows]="5"
             [paginator]="true"
             [pageLinks]="3"
             [rowsPerPageOptions]="[5,10,30]"
             selectionMode="single"
             [(selection)]="objeto"
             (onRowSelect)="display=true">
  <p-footer>
    <button md-raised-button color="primary" (click)="novo();">Adicionar Novo Usuário</button>
  </p-footer>
  <p-column field="id" header="Código"></p-column>
  <p-column field="usuario" header="Usuário"></p-column>
</p-dataTable>

<p-dialog [(visible)]="display" [modal]="true">
  <p-header>
    Visualizando cadastro do usuário {{objeto.usuario}}
  </p-header>
  <ul>
    <li>
      Código: {{objeto.id}}
    </li>
    <li>
      Usuário: {{objeto.usuario}}
    </li>
    <li>
      Senha: {{objeto.senha}}
    </li>
  </ul>
  <p-footer>
    <button md-raised-button color="primary" (click)="remover(objeto);">Remover</button>
    <button md-raised-button color="primary" (click)="display=false; displayEdit=true">Editar</button>
    <button md-raised-button (click)="display=false">Fechar</button>
  </p-footer>
</p-dialog>

<p-dialog [(visible)]="displayEdit" [modal]="true">
  <p-header>
    Editar usuário {{objeto.usuario}}
  </p-header>
  <ul>
    <li>
      Código:
    </li>
    <li>
      <input type="text" pInputText [(ngModel)]="objeto.id" disabled />
    </li>
    <li>
      Usuário:
    </li>
    <li>
      <input type="text" pInputText [(ngModel)]="objeto.usuario" />
    </li>
    <li>
      Senha:
    </li>
    <li>
      <input type="text" pInputText [(ngModel)]="objeto.senha" />
    </li>
  </ul>
  <p-footer>
    <button md-raised-button color="primary" (click)="persist()">Salvar</button>
    <button md-raised-button (click)="displayEdit=false">Fechar</button>
  </p-footer>
</p-dialog>
